# JWT = JSON WEB TOKEN

## 왜 사용하는가?
    - 세션의 문제점을 해결하기 위해서 사용한다.

## 쿠키 : 웹서버와 클라이언트가 주고 받는 상태정보
## 세션 : 클라이언트들의 상태정보를 저장하는 웹서버에 있는 저장영역
    - 참고
    과부하를 막기위해 여러개의 서버를 사용할때 (로드밸런싱) 세션을 공유해야되는데 보통 메모리공유서버(ex)redis)에 세션값들을 저장하여 사용한다. DB에 저장하면 HDD에 저장되어 I/O가 일어나므로 속도가 느려 적합하지않다.

## OSI 7계층
    - 응용계층 : 롤, 웹브라우저같은 응용프로그램 실행되는 계층
    - 표현계층 : 압축이나 암호화같은 데이터의 형태를 결정하는 계층
    - 세션계층 : 인증확인이 이루어지는계층
    - 전송계층 : TCP통신인지 UDP통신인지 통신방식을 결정하는 계층
    - 네트워크계층 : IP통신이 이루어지는 계층
    WAN통신
    -------------------------------------------------------------------
    LAN통신
    - 데이터링크계층 : MAC통신이 이루어지는 계층
    - 물리계층 : 광케이블이나 랜선으로 통신이 이루어지는 계층

## UDP vs TCP
    - TCP : 정보의 수신의 응답(Ack)을 주고받는 전송방식. 그리하여 신뢰성이 있다라고 한다. ex)인터넷, 게임
    - UDP : 정보의 수신의 응답(Ack)을 하지않는 일방적인 전송방식. 그리하여 신뢰성이 없다라고 한다. ex)전화

## 웹의 통신방식
    1. 최초 요청시 웹서버가 세션ID를 만들고 세션에 저장하고 클라이언트의 상태정보를 위한 세션의 공간을 할당한다.
    2. 클라이언트에 세션ID를 헤더의 쿠키를 쿠키공간에 담아 전송한다.
    3. 클라이언트는 받은 세션ID를 쿠키에 저장한다.
    4. 두번째 요청부터는 웹서버는 클라이언트가 보낸 세션ID로 클라이언트를 식별하며 통신을 한다.
    세션ID가 사라지는 경우 : 
    - 1. 서버가 직접 세션ID를 지운다.
    - 2. 사용자가 브라우저 종료시 지워진다.
    - 3. 특정 시간이 지나면 사라진다.

## 정보보안의 목적:CIA(Confidentiality Integrity Availability)
    - 기밀성(Confidentiality) :

    - 무결성(Integrity) :

    - 가용성(Availability) :

## 정보보안의 문제

    1. 암호화키 전달 문제
    2. 전송자 식별(인증) 문제

    - 해결방법 : 
        - RSA : 공개키(public key)와 개인키(private key)로 이루어진 암호화방법
            - 공개키 -> 개인키 : (암호화)
            - 개인키 -> 공개키 : (전자서명)
        ex) A -정보전달-> B
        1. A와 B는 서로의 공개키를 알수있다.(암호화키 전달 문제 해결)
        1. A가 B의 공개키로 암화하를 하고, 다시 A의 개인키로 암호화를 한다.
        2. B가 정보를 받으면 A의 공개키로 복호화를 하고 B의 개인키로 정보를 복호화한다.(식별 문제 해결)
            
## RFC 문서
    인터넷 통신의 기술 및 절차 규칙에 대한 문서
    - http : RFC 2616
    - JWT : RFC 7519


## JWT(JSON WEB TOKEN) 의 구조(Base64Url로 인코딩)
    - Header : {"alg"="HS256", "type"="JWT"}암호화 알고리즘
    - Payload : {"sub":"123456789", "name":"John Doe", "admin":true}등록된 클레임, 공개 소유권 주장, 개인클레임
    - Signature : Header + Payload + Secret(HMAC SHA256 or RSA)